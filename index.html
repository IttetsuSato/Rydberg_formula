<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      .flex {
        display: flex;
      }
      .hstack {
        display: flex;
        flex-direction: column;
        margin: 20px;
      }
    </style>
  </head>
  <body>
    <img width="600" src="img/quantum_defects.png" alt="" />
    <form class="form" action="">
      <div class="flex">
        <div class="hstack">
          <label
            >始状態の主量子数n
            <input type="number" name="start_n" min="1" max="100" />
          </label>
          <label
            >始状態の量子欠損δ０
            <input type="number" name="start_defect0" step="0.00000001" />
          </label>
          <label
            >始状態の量子欠損δ２
            <input type="number" name="start_defect2" step="0.00000001" />
          </label>
        </div>
        <div class="hstack">
          <label
            >終状態の主量子数n'
            <input type="number" name="end_n" min="1" max="100" />
          </label>
          <label
            >終状態の量子欠損δ０
            <input type="number" name="end_defect0" step="0.00000001" />
          </label>
          <label
            >終状態の量子欠損δ２
            <input type="number" name="end_defect2" step="0.00000001" />
          </label>
        </div>
      </div>
      <button type="button" class="submit">計算</button>
    </form>
    <div>波数: <span class="result1"></span>[cm^-1]</div>
    <div>波長: <span class="result2"></span>[nm]</div>
    <script>
      const R = 109736.605; //[cm^-1]
      const form = document.forms[0];
      const submitButton = document.querySelector(".submit");
      const result1 = document.querySelector(".result1");
      const result2 = document.querySelector(".result2");

      submitButton.addEventListener("click", () => {
        const start_n = form.elements["start_n"].value;
        const end_n = form.elements["end_n"].value;
        const start_defect0 = Number(form.elements["start_defect0"].value);
        const start_defect2 = Number(form.elements["start_defect2"].value);
        const end_defect0 = Number(form.elements["end_defect0"].value);
        const end_defect2 = Number(form.elements["end_defect2"].value);

        const start_defect =
          start_defect0 + start_defect2 / (start_n - start_defect0) ** 2;
        console.log({ start_defect });
        const end_defect =
          end_defect0 + end_defect2 / (end_n - end_defect0) ** 2;
        console.log({ end_defect });

        const frequency =
          R * ((start_n - start_defect) ** -2 - (end_n - end_defect) ** -2);
        result1.textContent = frequency;
        const wave_length = 10 ** 7 / frequency;
        result2.textContent = wave_length;
      });
    </script>
  </body>
</html>
